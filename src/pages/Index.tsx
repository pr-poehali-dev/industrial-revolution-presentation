import { useState } from 'react';
import { Card } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import Icon from '@/components/ui/icon';

export default function Index() {
  const [activeSlide, setActiveSlide] = useState(0);
  const [showSpeakerNotes, setShowSpeakerNotes] = useState(false);

  const speakerNotes = [
    {
      intro: "Добрый день, уважаемые слушатели! Сегодня я хочу рассказать вам об одном из самых значимых и переломных периодов в истории человечества — индустриальной революции. Этот грандиозный процесс, растянувшийся на несколько столетий, полностью трансформировал экономику, общество, культуру и сам способ жизни миллиардов людей. До индустриальной революции человечество тысячелетиями жило в аграрном обществе, где основой экономики было сельское хозяйство и ручной труд. Индустриализация изменила всё — от способов производства товаров до структуры городов и отношений между людьми. Давайте подробно рассмотрим, как это происходило.",
      slides: [
        "Первая индустриальная революция началась в Великобритании примерно в 1760 году и продолжалась до 1840-х годов. Почему именно Великобритания? Здесь сошлись несколько факторов: богатые запасы угля и железной руды, развитая торговля с колониями, накопленный капитал и благоприятное законодательство для бизнеса. Главным достижением этого периода стала механизация производства. Джеймс Уатт в 1769 году усовершенствовал паровой двигатель, создав эффективную машину, которая превращала энергию пара в механическую работу. Это позволило заменить ручной труд машинным на фабриках. Текстильная промышленность стала первой отраслью, где внедрили массовое машинное производство. По всей Англии выросли огромные текстильные фабрики с сотнями станков. Производительность увеличилась в десятки раз — то, что раньше производили 50 ткачей за неделю, теперь делала одна машина за день. Паровые машины начали применяться не только на производстве, но и на транспорте. Первый паровоз Джорджа Стефенсона в 1825 году открыл эру железных дорог. Скорость перемещения товаров и людей выросла с 5-10 км/ч на лошадях до 50-60 км/ч на поездах. Пароходы пересекали океаны за недели вместо месяцев. Мир стал намного меньше и доступнее.",
        "Вторая индустриальная революция началась примерно в 1870 году и продолжалась до начала Первой мировой войны в 1914 году. Этот период принёс миру электричество, нефть, сталь и массовое производство. Если первая революция была британской, то вторая стала международной — лидерами стали США и Германия. Томас Эдисон создал не только электрическую лампочку в 1879 году, но и целую систему электрификации — от электростанций до проводов в домах. К 1900 году крупные города Америки и Европы сияли электрическим светом. Генри Форд в 1913 году внедрил на своих заводах конвейер — революционную систему массового производства. Рабочие стояли на месте, а автомобиль двигался по линии, и каждый работник выполнял одну простую операцию. Время сборки автомобиля сократилось с 12 часов до 1,5 часов! Цена автомобиля Ford Model T упала с 850 долларов до 260 долларов, и автомобиль стал доступен среднему классу. Появилась химическая промышленность — производство искусственных красителей, удобрений, лекарств, пластмасс. Немецкая компания Bayer изобрела аспирин, BASF производила красители для текстиля. Нефть стала новым источником энергии — двигатели внутреннего сгорания работали на бензине, заводы переходили с угля на нефтепродукты.",
        "Третья индустриальная революция началась в середине XX века, примерно в 1950-х годах, и продолжалась до конца столетия. Это была революция компьютеризации, автоматизации и информационных технологий. Изобретение транзистора в 1947 году и микропроцессора в 1971 году сделало возможным создание компьютеров. Первые компьютеры занимали целые комнаты, но к 1980-м годам персональные компьютеры Apple и IBM появились в офисах и домах. Роботы начали заменять людей на производственных линиях. Японская автомобильная промышленность первой массово внедрила промышленных роботов — к 1990-м годам на заводах Toyota и Honda роботы выполняли сварку, покраску, сборку. Точность и скорость производства выросли многократно. Появление интернета в 1990-х годах создало информационную экономику. Теперь можно было мгновенно передавать данные на любые расстояния, координировать производство в разных странах, продавать товары онлайн. Компании как Amazon, Google, Microsoft стали стоить сотни миллиардов долларов. Началась глобализация экономики — производственные цепочки охватили весь мир. Один смартфон содержит компоненты из десятков стран: процессор из Тайваня, экран из Южной Кореи, сборка в Китае, дизайн в США."
      ]
    },
    {
      intro: "Теперь давайте подробно рассмотрим ключевые изобретения, которые не просто символизировали, а реально двигали индустриальную революцию вперед. Каждое из этих изобретений было технологическим прорывом своего времени и имело огромное экономическое и социальное влияние.",
      slides: [
        "Паровой двигатель Джеймса Уатта, запатентованный в 1769 году, по праву считается сердцем первой индустриальной революции. До его появления производство полностью зависело от природных источников энергии — силы воды на водяных мельницах, силы ветра на ветряных мельницах, мускульной силы людей и животных. Это ограничивало расположение фабрик — они должны были находиться рядом с реками. Уатт не изобрёл паровую машину с нуля — первые паровые насосы существовали с начала XVIII века, но были крайне неэффективны и расходовали огромное количество угля. Гениальность Уатта была в усовершенствовании: он добавил отдельный конденсатор, что увеличило эффективность в 3-4 раза и снизило расход топлива на 75%. Паровые машины дали независимый, мощный и надёжный источник энергии. Теперь фабрики можно было строить где угодно — вблизи городов, портов, месторождений сырья. Паровозы соединили города железными дорогами — первая пассажирская линия Ливерпуль-Манчестер открылась в 1830 году. К 1850 году в Британии было 10 тысяч километров железных дорог. Пароходы пересекали Атлантику за 10-14 дней вместо 4-6 недель на парусниках. Торговля между континентами выросла в разы. На фабриках паровые станки приводили в движение десятки машин одновременно через систему ремней и валов. Работа велась круглосуточно, не завися от времени суток, погоды или сезона.",
        "Механический ткацкий станок, изобретённый Эдмундом Картрайтом в 1785 году, совершил революцию в текстильной промышленности — самой важной отрасли того времени. До механизации ткачество было сложным ручным ремеслом. Опытный ткач мог произвести около 1 метра ткани в день, работая 10-12 часов. Станок Картрайта, приводимый в действие паровой машиной, позволял одному рабочему производить 40-50 метров ткани в день — рост производительности в 40-50 раз! Это имело колоссальные экономические последствия. Цены на текстиль рухнули — хлопчатобумажная ткань, которая в 1780 году стоила 10 шиллингов за ярд, к 1850 году стоила всего 1 шиллинг. Одежда из фабричных тканей стала доступной для всех слоёв населения, включая бедняков. До индустриализации простые люди носили одежду из грубой домотканой шерсти или льна, часто латанную и переделанную. Британская текстильная промышленность стала локомотивом экономики — к 1850 году она давала половину всего экспорта страны. Манчестер превратился в мировую столицу текстиля, его называли «Коттонополис». Однако у этого процесса была и тёмная сторона — машины лишили работы сотни тысяч ручных ткачей. В 1811-1816 годах произошло движение луддитов — разорённые ткачи громили фабрики и ломали станки в протесте против механизации.",
        "Электрическая лампа накаливания, усовершенствованная Томасом Эдисоном в 1879 году, стала символом второй индустриальной революции и буквально осветила путь в новую эпоху. До электричества освещение обеспечивалось свечами, масляными лампами и газовыми фонарями — дорогими, опасными и дающими слабый свет. Эдисон не был первым, кто создал электрическую лампу, но он сделал её практичной и коммерчески успешной. Его лампа с угольной нитью горела 1200 часов, тогда как предыдущие конструкции — всего несколько часов. Что важнее, Эдисон создал целую систему — электростанции, линии передачи, выключатели, счётчики. В 1882 году он запустил первую электростанцию на Пёрл-стрит в Нью-Йорке, которая обеспечивала электричеством 85 зданий. Электрическое освещение революционизировало промышленность. Фабрики перешли на круглосуточные смены — теперь можно было работать ночью при ярком электрическом свете. Производство выросло вдвое без строительства новых заводов. Магазины работали до позднего вечера, привлекая больше покупателей. Города преобразились — улицы стали освещёнными и безопасными, снизилась преступность. Париж и Нью-Йорк засияли тысячами огней. Электричество стало основой второй революции — оно питало не только лампы, но и телеграф, телефон, трамваи, лифты, электромоторы на фабриках. К 1920 году 35% американских домов имели электричество, к 1950 году — почти 90%."
      ]
    },
    {
      intro: "Теперь давайте проанализируем конкретные экономические результаты индустриальной революции. Цифры и факты покажут масштаб трансформации, которую пережило человечество за последние 250 лет.",
      slides: [
        "Рост валового внутреннего продукта был поистине беспрецедентным. За весь XIX век ВВП развитых стран вырос на 400% — в пять раз! Для сравнения, за предыдущую тысячу лет экономический рост составил всего 50%. Великобритания, эпицентр первой революции, увеличила свой валовой продукт с 350 миллионов фунтов в 1800 году до 2 миллиардов фунтов в 1900 году — рост почти в 6 раз. При этом население выросло только в 3 раза, то есть реальный доход на душу населения удвоился. Средний британец в 1900 году жил в два раза богаче, чем его прадед в 1800-м. Соединённые Штаты показали ещё более впечатляющий рост. В 1800 году американская экономика составляла лишь 10% от британской. К 1900 году США обогнали Британию и стали крупнейшей экономикой мира — рост в 15 раз за столетие! Этому способствовали огромная территория, богатые природные ресурсы, приток иммигрантов и быстрое внедрение технологий. Германия, объединившаяся только в 1871 году, совершила стремительный промышленный рывок. За 1870-1913 годы германская промышленность выросла в 5 раз, обогнав Британию по производству стали и химикатов. Это был невиданный в мировой истории экономический бум. Традиционные аграрные общества тысячелетиями жили примерно на одном уровне благосостояния. Индустриализация разорвала этот застой и запустила механизм постоянного экономического роста, который продолжается по сей день.",
        "Урбанизация — переселение людей из деревень в города — кардинально изменила географию расселения человечества. В 1800 году в городах проживало лишь 10% населения Европы и США, остальные 90% жили в сельской местности, занимаясь сельским хозяйством. К 1900 году в городах жило уже 40% населения, к 1950 году — 50%, к 2000 году — более 80% в развитых странах. Лондон, крупнейший город мира в XIX веке, вырос с 1 миллиона жителей в 1800 году до 6,5 миллионов в 1900 году. Город расширялся с невероятной скоростью — строились новые районы, прокладывались улицы, возводились многоэтажные дома. В 1863 году открылась первая в мире линия метро, решавшая проблему городского транспорта. Появились совершенно новые промышленные города, которых раньше не существовало. Манчестер вырос с 25 тысяч в 1772 году до 700 тысяч в 1900 году — рост в 28 раз! Бирмингем, Глазго, Ливерпуль в Британии; Эссен, Дортмунд в Германии; Детройт, Питтсбург, Чикаго в США — всё это города, созданные индустриализацией. Вместе с ростом городов развивалась инфраструктура. Строились водопроводы и канализация — Лондон построил 160 км канализационных тоннелей после эпидемии холеры 1854 года. Появились газовое, а затем электрическое освещение улиц, общественный транспорт — трамваи и автобусы, школы, больницы, парки. К концу XIX века крупные города стали намного комфортнее и безопаснее для жизни, чем в начале века, несмотря на временные проблемы перенаселения и антисанитарии.",
        "Производительность труда — объём продукции, производимой одним работником за единицу времени — выросла на умопомрачительные 1500% за период с 1760 по 1900 год. Это означает, что рабочий конца XIX века производил в 15 раз больше, чем его предок столетием ранее. В текстильной промышленности трансформация была особенно драматичной. Ручной ткач в 1750 году производил около 1 метра ткани в день, работая от рассвета до заката. К 1850 году рабочий на механическом ткацком станке производил 40-50 метров в день — рост в 40-50 раз. При этом он работал не тяжелее, а в некотором смысле легче — не нужно было сидеть согнувшись за станком, хотя работа стала монотоннее. Производство стали показало ещё более впечатляющий рост. В 1800 году мировое производство стали составляло около 50 тысяч тонн в год — сталь была дорогой и использовалась только для инструментов и оружия. Изобретение бессемеровского процесса в 1856 году и мартеновских печей в 1860-х годах сделало сталь дешёвой. К 1900 году мировое производство достигло 28 миллионов тонн — рост в 560 раз! Сталь стала основным строительным материалом — из неё делали мосты, железные дороги, корабли, здания. Снижение стоимости товаров имело огромное социальное значение. То, что в 1800 году было роскошью для богачей, к 1900 году стало доступно рабочему классу. Хлопчатобумажная одежда, металлическая посуда, мебель фабричного производства, книги и газеты, велосипеды, часы — всё это стало массовым. Уровень жизни даже бедных семей вырос — они лучше питались, одевались, имели доступ к образованию и медицине. Детская смертность снизилась вдвое, продолжительность жизни выросла с 35-40 лет до 50-55 лет. В заключение хочу подчеркнуть: индустриальная революция создала современный мир, в котором мы живём. Все достижения XX и XXI веков — автомобили, самолёты, компьютеры, интернет, медицина — стоят на фундаменте, заложенном индустриализацией XVIII-XIX веков. Это был величайший экономический и социальный переворот в истории человечества. Спасибо большое за внимание!"
      ]
    }
  ];

  const slides = [
    {
      id: 0,
      title: 'Этапы Индустриальной Революции',
      icon: 'Settings',
      content: [
        {
          stage: 'Первая революция',
          period: '1760-1840',
          description: 'Механизация производства, паровой двигатель, текстильная промышленность',
          examples: ['Великобритания: текстильные фабрики', 'Паровые машины Уатта', 'Железные дороги']
        },
        {
          stage: 'Вторая революция',
          period: '1870-1914',
          description: 'Электричество, нефть, массовое производство',
          examples: ['США: конвейер Форда', 'Электрификация городов', 'Химическая промышленность']
        },
        {
          stage: 'Третья революция',
          period: '1950-2000',
          description: 'Компьютеризация, автоматизация, информационные технологии',
          examples: ['Роботизация производства', 'Интернет и IT-сектор', 'Глобализация экономики']
        }
      ]
    },
    {
      id: 1,
      title: 'Ключевые Изобретения',
      icon: 'Cog',
      content: [
        {
          invention: 'Паровой двигатель',
          year: '1769',
          inventor: 'Джеймс Уатт',
          impact: 'Революция в транспорте и производстве',
          examples: ['Паровозы', 'Пароходы', 'Фабричные станки']
        },
        {
          invention: 'Ткацкий станок',
          year: '1785',
          inventor: 'Эдмунд Картрайт',
          impact: 'Рост производительности в 40 раз',
          examples: ['Текстильные фабрики', 'Массовое производство ткани', 'Снижение цен']
        },
        {
          invention: 'Электрическая лампа',
          year: '1879',
          inventor: 'Томас Эдисон',
          impact: 'Круглосуточная работа предприятий',
          examples: ['Ночные смены', 'Рост производства', 'Урбанизация']
        }
      ]
    },
    {
      id: 2,
      title: 'Экономические Результаты',
      icon: 'TrendingUp',
      content: [
        {
          result: 'Рост ВВП',
          metric: '+400%',
          period: '1800-1900',
          description: 'Увеличение валового продукта развитых стран',
          examples: ['Великобритания: с £350M до £2B', 'США: рост экономики в 15 раз', 'Германия: промышленный бум']
        },
        {
          result: 'Урбанизация',
          metric: '10% → 80%',
          period: '1800-2000',
          description: 'Переселение населения в города',
          examples: ['Лондон: 1M → 7M жителей', 'Новые промышленные города', 'Развитие инфраструктуры']
        },
        {
          result: 'Производительность труда',
          metric: '+1500%',
          period: '1760-1900',
          description: 'Рост выработки на одного рабочего',
          examples: ['Текстиль: с 1 до 40 метров/день', 'Сталь: рост производства в 200 раз', 'Снижение стоимости товаров']
        }
      ]
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-industrial-dark via-industrial-gray to-industrial-dark">
      <header className="border-b-4 border-industrial-copper bg-industrial-dark/90 backdrop-blur">
        <div className="container mx-auto px-6 py-8">
          <div className="flex items-center gap-4">
            <div className="relative">
              <Icon name="Settings" size={48} className="text-industrial-copper animate-spin-slow" />
              <Icon name="Cog" size={28} className="text-industrial-copper/60 absolute top-0 right-0 animate-spin-reverse" />
            </div>
            <div>
              <h1 className="text-4xl font-bold text-white font-oswald tracking-wider">
                ИНДУСТРИАЛЬНАЯ РЕВОЛЮЦИЯ
              </h1>
              <p className="text-industrial-light mt-1">Экономическая трансформация человечества</p>
            </div>
          </div>
        </div>
      </header>

      <nav className="bg-industrial-dark/50 border-b-2 border-industrial-copper/30">
        <div className="container mx-auto px-6 py-4">
          <div className="flex gap-2 justify-center flex-wrap">
            {slides.map((slide) => (
              <Button
                key={slide.id}
                onClick={() => setActiveSlide(slide.id)}
                variant={activeSlide === slide.id ? 'default' : 'outline'}
                className={`gap-2 transition-all ${
                  activeSlide === slide.id
                    ? 'bg-industrial-copper hover:bg-industrial-copper/90 text-white border-industrial-copper shadow-lg scale-105'
                    : 'border-industrial-copper/50 text-industrial-light hover:bg-industrial-copper/20'
                }`}
              >
                <Icon name={slide.icon as any} size={20} />
                {slide.title.split(' ')[0]}
              </Button>
            ))}
          </div>
        </div>
      </nav>

      <main className="container mx-auto px-6 py-12">
        <div className="animate-fade-in">
          <h2 className="text-5xl font-bold text-white mb-8 font-oswald tracking-wide flex items-center gap-4">
            <Icon name={slides[activeSlide].icon as any} size={48} className="text-industrial-copper" />
            {slides[activeSlide].title}
          </h2>

          <div className="grid gap-6 md:grid-cols-1 lg:grid-cols-3">
            {activeSlide === 0 && slides[0].content.map((item, index) => (
              <Card key={index} className="bg-industrial-dark/80 border-2 border-industrial-copper/30 p-6 hover:border-industrial-copper transition-all hover:scale-105 hover:shadow-2xl hover:shadow-industrial-copper/20">
                <div className="flex items-start gap-4 mb-4">
                  <div className="bg-industrial-copper p-3 rounded">
                    <Icon name="Factory" size={32} className="text-white" />
                  </div>
                  <div>
                    <h3 className="text-2xl font-bold text-industrial-copper font-oswald">{item.stage}</h3>
                    <p className="text-industrial-light font-semibold">{item.period}</p>
                  </div>
                </div>
                <p className="text-white mb-4">{item.description}</p>
                <div className="space-y-2">
                  {item.examples.map((example, i) => (
                    <div key={i} className="flex items-start gap-2">
                      <Icon name="ChevronRight" size={16} className="text-industrial-copper mt-1 flex-shrink-0" />
                      <p className="text-industrial-light text-sm">{example}</p>
                    </div>
                  ))}
                </div>
              </Card>
            ))}

            {activeSlide === 1 && slides[1].content.map((item, index) => (
              <Card key={index} className="bg-industrial-dark/80 border-2 border-industrial-copper/30 p-6 hover:border-industrial-copper transition-all hover:scale-105 hover:shadow-2xl hover:shadow-industrial-copper/20">
                <div className="flex items-start gap-4 mb-4">
                  <div className="bg-industrial-copper p-3 rounded">
                    <Icon name="Lightbulb" size={32} className="text-white" />
                  </div>
                  <div>
                    <h3 className="text-2xl font-bold text-industrial-copper font-oswald">{item.invention}</h3>
                    <p className="text-industrial-light font-semibold">{item.year} • {item.inventor}</p>
                  </div>
                </div>
                <p className="text-white mb-4 font-semibold">{item.impact}</p>
                <div className="space-y-2">
                  {item.examples.map((example, i) => (
                    <div key={i} className="flex items-start gap-2">
                      <Icon name="Zap" size={16} className="text-industrial-copper mt-1 flex-shrink-0" />
                      <p className="text-industrial-light text-sm">{example}</p>
                    </div>
                  ))}
                </div>
              </Card>
            ))}

            {activeSlide === 2 && slides[2].content.map((item, index) => (
              <Card key={index} className="bg-industrial-dark/80 border-2 border-industrial-copper/30 p-6 hover:border-industrial-copper transition-all hover:scale-105 hover:shadow-2xl hover:shadow-industrial-copper/20">
                <div className="flex items-start gap-4 mb-4">
                  <div className="bg-industrial-copper p-3 rounded">
                    <Icon name="BarChart3" size={32} className="text-white" />
                  </div>
                  <div>
                    <h3 className="text-2xl font-bold text-industrial-copper font-oswald">{item.result}</h3>
                    <p className="text-white text-3xl font-bold mt-1">{item.metric}</p>
                  </div>
                </div>
                <p className="text-industrial-light text-sm mb-2">{item.period}</p>
                <p className="text-white mb-4">{item.description}</p>
                <div className="space-y-2">
                  {item.examples.map((example, i) => (
                    <div key={i} className="flex items-start gap-2">
                      <Icon name="TrendingUp" size={16} className="text-industrial-copper mt-1 flex-shrink-0" />
                      <p className="text-industrial-light text-sm">{example}</p>
                    </div>
                  ))}
                </div>
              </Card>
            ))}
          </div>
        </div>
      </main>

      {showSpeakerNotes && (
        <div className="fixed bottom-0 left-0 right-0 bg-industrial-dark border-t-4 border-industrial-copper shadow-2xl animate-fade-in max-h-64 overflow-y-auto">
          <div className="container mx-auto px-6 py-6">
            <div className="flex items-start gap-4">
              <Icon name="FileText" size={24} className="text-industrial-copper flex-shrink-0 mt-1" />
              <div className="flex-1">
                <h3 className="text-lg font-bold text-industrial-copper mb-3 font-oswald">
                  {activeSlide === 0 && slides[0].content.map((_, i) => i).includes(0) ? speakerNotes[0].intro : 
                   activeSlide === 1 && slides[1].content.map((_, i) => i).includes(0) ? speakerNotes[1].intro :
                   activeSlide === 2 && slides[2].content.map((_, i) => i).includes(0) ? speakerNotes[2].intro : ''}
                </h3>
                <div className="space-y-3">
                  {speakerNotes[activeSlide]?.slides.map((note, index) => (
                    <div key={index} className="bg-industrial-gray/20 p-4 rounded border-l-4 border-industrial-copper">
                      <p className="text-sm font-semibold text-industrial-copper mb-1">
                        Слайд {index + 1}:
                      </p>
                      <p className="text-white text-sm leading-relaxed">{note}</p>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>
      )}

      <footer className="border-t-2 border-industrial-copper/30 bg-industrial-dark/90 mt-12">
        <div className="container mx-auto px-6 py-6">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-4">
              <div className="flex items-center gap-2">
                <Icon name="Settings" size={24} className="text-industrial-copper animate-spin-slow" />
                <p className="text-industrial-light text-sm">
                  Слайд {activeSlide + 1} из {slides.length}
                </p>
              </div>
              <Button
                onClick={() => setShowSpeakerNotes(!showSpeakerNotes)}
                variant="outline"
                size="sm"
                className={`gap-2 ${
                  showSpeakerNotes
                    ? 'bg-industrial-copper text-white border-industrial-copper'
                    : 'border-industrial-copper/50 text-industrial-light hover:bg-industrial-copper/20'
                }`}
              >
                <Icon name="FileText" size={16} />
                Текст доклада
              </Button>
            </div>
            <div className="flex gap-2">
              <Button
                onClick={() => setActiveSlide(Math.max(0, activeSlide - 1))}
                disabled={activeSlide === 0}
                variant="outline"
                size="sm"
                className="border-industrial-copper/50 text-industrial-light hover:bg-industrial-copper/20"
              >
                <Icon name="ChevronLeft" size={16} />
              </Button>
              <Button
                onClick={() => setActiveSlide(Math.min(slides.length - 1, activeSlide + 1))}
                disabled={activeSlide === slides.length - 1}
                variant="outline"
                size="sm"
                className="border-industrial-copper/50 text-industrial-light hover:bg-industrial-copper/20"
              >
                <Icon name="ChevronRight" size={16} />
              </Button>
            </div>
          </div>
        </div>
      </footer>
    </div>
  );
}